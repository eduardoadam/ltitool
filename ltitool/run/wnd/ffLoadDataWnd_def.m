## -*- texinfo -*-
## @deftypefn  {} {} dummy()
##
## This is a dummy function documentation. This file have a lot functions
## and each one have a little documentation. This text is to avoid a warning when
## install this file as part of package.
## @end deftypefn
##
## Set the graphics toolkit and force read this file as script file (not a function file).
##
graphics_toolkit qt;
##


##
##
## Begin callbacks definitions 
##

## @deftypefn  {} {} btn_closeFFloadata_doIt (@var{source}, @var{callbackdata}, @var{ffLoadDataWnd})
##
## Define a callback for default action of btn_closeFFloadata control.
##
## @end deftypefn
function btn_closeFFloadata_doIt(source, callbackdata, ffLoadDataWnd)

% global variable
global _ltitoolBasePath;

% Transfer functions are defined.
s=tf('s'); % Complex variable "s"
% Gp(s)
numGp = get(ffLoadDataWnd.numGp, 'string');
denGp = get(ffLoadDataWnd.denGp, 'string');
sysStrGp = strcat('(',numGp,')', '/','(', denGp,')');
Gp = tf(eval(sysStrGp));
% Gl(s)
numGl = get(ffLoadDataWnd.numGl, 'string');
denGl = get(ffLoadDataWnd.denGl, 'string');
sysStrGl = strcat('(',numGl,')', '/','(', denGl,')');
Gl = tf(eval(sysStrGl));
% Gm(s)
numGm = get(ffLoadDataWnd.numGm, 'string');
denGm = get(ffLoadDataWnd.denGm, 'string');
sysStrGm = strcat('(',numGm,')', '/','(', denGm,')');
Gm = tf(eval(sysStrGm));
% Glt(s)
numGtl = get(ffLoadDataWnd.numGtl, 'string');
denGtl = get(ffLoadDataWnd.denGtl, 'string');
sysStrGtl = strcat('(',numGtl,')', '/','(', denGtl,')');
Gtl = tf(eval(sysStrGtl));
% Gt(s)
numGt = get(ffLoadDataWnd.numGt, 'string');
denGt = get(ffLoadDataWnd.denGt, 'string');
sysStrGt = strcat('(',numGt,')', '/','(', denGt,')');
Gt = tf(eval(sysStrGt));
% Cff(s)
numCff = get(ffLoadDataWnd.numCff, 'string');
denCff = get(ffLoadDataWnd.denCff, 'string');
sysStrCff = strcat('(',numCff,')', '/','(', denCff,')');
Cff = tf(eval(sysStrCff));


% Gv(s)
numGv = get(ffLoadDataWnd.numGv, 'string');
denGv = get(ffLoadDataWnd.denGv, 'string');
sysStrGv = strcat('(',numGv,')', '/','(', denGv,')');
Gv = tf(eval(sysStrGv));
% Gc(s)
numGcomp = get(ffLoadDataWnd.numGcomp, 'string');
denGcomp = get(ffLoadDataWnd.denGcomp, 'string');
sysStrGcomp = strcat('(',numGcomp,')', '/','(', denGcomp,')');
Gcomp = tf(eval(sysStrGcomp));

% Radio button options
% -----------------------------------------------------------------
op1 = get(ffLoadDataWnd.PID_rb, 'Value');			% PID
op2 = get(ffLoadDataWnd.Compensador_rb, 'Value');		% Compensator


if ((op1 == 1) && (op2 == 1))
  disp('Two options are not allowed');
elseif (op1 == 1)
  % Opción 1: PID controller
  if(get(ffLoadDataWnd.Modo_P,'value') == 1) 
     % if P controller is true
     Kr=str2num(get(ffLoadDataWnd.Kr,'string'));
   else
     Kr=0;
   endif
  if(get(ffLoadDataWnd.Modo_D,'value') == 1) 
     % if PD controller is true 
     TD=str2num(get(ffLoadDataWnd.TD,'string'));;
   else
     TD=0;
  endif
  if(get(ffLoadDataWnd.Modo_I,'value') == 1) 
     % if PID controller is true
     TI=str2num(get(ffLoadDataWnd.TI,'string'));;
     Gc=Kr+Kr/(TI*s)+Kr*TD*s;
   else
     TI=0;
     Gc=Kr+Kr*TD*s;
  endif
 elseif (op2 == 1)
  % Opción 2: compensator
  Gc = Gcomp;
  % Kr=1 is adopted
     Kr=1; TI=1; TD=0;
else
  disp('You must check an option');
endif

% G(s)H(s)
GH=Gp*Gv*Gc*Gm;

% Save data before close the window
tiempo_muerto=0.0;
save([_ltitoolBasePath filesep() 'data' filesep() 'loadFFdata'],'Gp','Gl','Gv','Gc','Gm','Gt', 'Gtl', 'GH', 'tiempo_muerto', ...
                                                         'Cff', 'Gcomp', 'Kr', 'TI', 'TD')

% cierro la ventana
close(ffLoadDataWnd.figure);

end

 
## @deftypefn  {} {@var{ret} = } show_ffLoadDataWnd()
##
## Create windows controls over a figure, link controls with callbacks and return 
## a window struct representation.
##
## @end deftypefn
function ret = show_ffLoadDataWnd()
  _scrSize = get(0, "screensize");
  _xPos = (_scrSize(3) - 737)/2;
  _yPos = (_scrSize(4) - 639)/2;
   ffLoadDataWnd = figure ( ... 
	'Color', [0.961 0.965 0.969], ...
	'Position', [_xPos _yPos 737 639], ...
	'Resize', 'on', ...
	'windowstyle', 'normal', ...
	'MenuBar', 'none');
  numGp = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [210 544 223 17], ... 
	'String', 'bm*s^m+......+b1*s^1+b0 ', ... 
	'TooltipString', '');
  numGp = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [80 542 120 22], ... 
	'String', '', ... 
	'TooltipString', '');
  Gp = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [20 512 185 17], ... 
	'String', 'Gp(s) = ------------------------------', ... 
	'TooltipString', '');
  denGp = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [80 482 120 22], ... 
	'String', '', ... 
	'TooltipString', '');
  demGp = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [210 484 224 17], ... 
	'String', 'an*s^n+.....+a1*s^1+a0', ... 
	'TooltipString', '');
  Label_31 = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 13, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [215 609 415 20], ... 
	'String', 'Closed Loop System Transfer Functions', ... 
	'TooltipString', '');
  btn_closeFFloadata = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [640 7 90 22], ... 
	'String', 'OK', ... 
	'TooltipString', '');
  Gl = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [440 511 203 18], ... 
	'String', 'Gl(s) = ------------------------------ ', ... 
	'TooltipString', '');
  numGl = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [485 542 127 22], ... 
	'String', '', ... 
	'TooltipString', '');
  denGl = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [485 482 127 22], ... 
	'String', '', ... 
	'TooltipString', '');
  Label_21 = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [20 572 116 17], ... 
	'String', 'Plant', ... 
	'TooltipString', '');
  Label_22 = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [20 442 171 17], ... 
	'String', 'Measuring Element', ... 
	'TooltipString', '');
  Gm = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [20 387 176 17], ... 
	'String', 'Gm(s) = ---------------------------', ... 
	'TooltipString', '');
  numGm = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [75 412 90 22], ... 
	'String', '', ... 
	'TooltipString', '');
  denGm = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [75 357 90 22], ... 
	'String', '', ... 
	'TooltipString', '');
  Gt = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [220 387 164 17], ... 
	'String', 'Gt(s) = --------------------------', ... 
	'TooltipString', '');
  Label_25 = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [220 442 181 17], ... 
	'String', 'Input Converter', ... 
	'TooltipString', '');
  Label_26 = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [435 444 134 15], ... 
	'String', 'Final Control Element', ... 
	'TooltipString', '');
  numGt = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [265 412 90 22], ... 
	'String', '', ... 
	'TooltipString', '');
  denGt = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [265 357 90 22], ... 
	'String', '', ... 
	'TooltipString', '');
  Gv = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [435 387 179 17], ... 
	'String', 'Gv(s) = -----------------------------', ... 
	'TooltipString', '');
  numGv = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [490 412 90 22], ... 
	'String', '', ... 
	'TooltipString', '');
  denGv = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [490 357 90 22], ... 
	'String', '', ... 
	'TooltipString', '');
  controlador = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [270 212 89 17], ... 
	'String', 'Controller', ... 
	'TooltipString', '');
  Kr = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [120 150 90 22], ... 
	'String', '1.0', ... 
	'TooltipString', '');
  TI = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [320 150 90 22], ... 
	'String', '1.0', ... 
	'TooltipString', '');
  TD = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [525 150 90 22], ... 
	'String', '0.0', ... 
	'TooltipString', '');
  Label_32 = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [10 217 243 17], ... 
	'String', '_________________________________', ... 
	'TooltipString', '');
  Gc = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [25 64 181 15], ... 
	'String', 'Gc(s) = -------------------------------', ... 
	'TooltipString', '');
  numGcomp = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [80 77 90 22], ... 
	'String', '', ... 
	'TooltipString', '');
  denGcomp = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [80 32 90 22], ... 
	'String', '', ... 
	'TooltipString', '');
  Label_37 = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [365 216 275 18], ... 
	'String', '_________________________________', ... 
	'TooltipString', '');
  Label_39 = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [20 7 612 17], ... 
	'String', '___________________________________________________________________________________', ... 
	'TooltipString', '');
  Modo_P = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','checkbox', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [20 152 82 17], ... 
	'String', 'P Mode', ... 
	'TooltipString', '', ... 
	'Min', 0, 'Max', 1, 'Value', 1);
  Modo_I = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','checkbox', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [235 152 72 17], ... 
	'String', 'I Mode', ... 
	'TooltipString', '', ... 
	'Min', 0, 'Max', 1, 'Value', 0);
  Modo_D = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','checkbox', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [430 152 85 17], ... 
	'String', 'D Mode', ... 
	'TooltipString', '', ... 
	'Min', 0, 'Max', 1, 'Value', 0);
  PID_rb = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','radiobutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'Position', [20 187 76 17], ... 
	'String', 'PID', ... 
	'TooltipString', '', ... 
	'Min', 0, 'Max', 1, 'Value', 1);
  Compensador_rb = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','radiobutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'Position', [20 107 197 17], ... 
	'String', 'Compensator', ... 
	'TooltipString', '', ... 
	'Min', 0, 'Max', 1, 'Value', 0);
  Gtl = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [20 272 173 17], ... 
	'String', 'Gtl(s) = ---------------------------', ... 
	'TooltipString', '');
  numGtl = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [75 292 90 22], ... 
	'String', '', ... 
	'TooltipString', '');
  denGtl = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [75 242 90 22], ... 
	'String', '', ... 
	'TooltipString', '');
  Label_32 = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [220 327 227 17], ... 
	'String', 'Feedforward Controller', ... 
	'TooltipString', '');
  Label_33 = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [215 272 174 17], ... 
	'String', 'Cff(s) = ---------------------------', ... 
	'TooltipString', '');
  numCff = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [270 292 90 22], ... 
	'String', '', ... 
	'TooltipString', '');
  denCff = uicontrol( ...
	'parent',ffLoadDataWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [270 237 90 22], ... 
	'String', '', ... 
	'TooltipString', '');

  ffLoadDataWnd = struct( ...
      'figure', ffLoadDataWnd, ...
      'numGp', numGp, ...
      'numGp', numGp, ...
      'Gp', Gp, ...
      'denGp', denGp, ...
      'demGp', demGp, ...
      'Label_31', Label_31, ...
      'btn_closeFFloadata', btn_closeFFloadata, ...
      'Gl', Gl, ...
      'numGl', numGl, ...
      'denGl', denGl, ...
      'Label_21', Label_21, ...
      'Label_22', Label_22, ...
      'Gm', Gm, ...
      'numGm', numGm, ...
      'denGm', denGm, ...
      'Gt', Gt, ...
      'Label_25', Label_25, ...
      'Label_26', Label_26, ...
      'numGt', numGt, ...
      'denGt', denGt, ...
      'Gv', Gv, ...
      'numGv', numGv, ...
      'denGv', denGv, ...
      'controlador', controlador, ...
      'Kr', Kr, ...
      'TI', TI, ...
      'TD', TD, ...
      'Label_32', Label_32, ...
      'Gc', Gc, ...
      'numGcomp', numGcomp, ...
      'denGcomp', denGcomp, ...
      'Label_37', Label_37, ...
      'Label_39', Label_39, ...
      'Modo_P', Modo_P, ...
      'Modo_I', Modo_I, ...
      'Modo_D', Modo_D, ...
      'PID_rb', PID_rb, ...
      'Compensador_rb', Compensador_rb, ...
      'Gtl', Gtl, ...
      'numGtl', numGtl, ...
      'denGtl', denGtl, ...
      'Label_32', Label_32, ...
      'Label_33', Label_33, ...
      'numCff', numCff, ...
      'denCff', denCff);


  set (btn_closeFFloadata, 'callback', {@btn_closeFFloadata_doIt, ffLoadDataWnd});
  dlg = struct(ffLoadDataWnd);


% global variable
global _ltitoolBasePath;

%  Load data
load([_ltitoolBasePath filesep() 'data' filesep() 'loadFFdata'])

% Put data on window
set(ffLoadDataWnd.numGp,'string',polyout(Gp.num{1,1})); 
set(ffLoadDataWnd.denGp,'string',polyout(Gp.den{1,1}));
set(ffLoadDataWnd.numGl,'string',polyout(Gl.num{1,1}));
set(ffLoadDataWnd.denGl,'string',polyout(Gl.den{1,1}));
set(ffLoadDataWnd.numGm,'string',polyout(Gm.num{1,1}));
set(ffLoadDataWnd.denGm,'string',polyout(Gm.den{1,1}));
set(ffLoadDataWnd.numGtl,'string',polyout(Gtl.num{1,1}));
set(ffLoadDataWnd.denGtl,'string',polyout(Gtl.den{1,1}));
set(ffLoadDataWnd.numGt,'string',polyout(Gt.num{1,1}));
set(ffLoadDataWnd.denGt,'string',polyout(Gt.den{1,1}));
set(ffLoadDataWnd.numGv,'string',polyout(Gv.num{1,1}));
set(ffLoadDataWnd.denGv,'string',polyout(Gv.den{1,1}));
set(ffLoadDataWnd.numCff,'string',polyout(Cff.num{1,1}));
set(ffLoadDataWnd.denCff,'string',polyout(Cff.den{1,1}));
set(ffLoadDataWnd.numGcomp,'string',polyout(Gcomp.num{1,1}));
set(ffLoadDataWnd.denGcomp,'string',polyout(Gcomp.den{1,1}));


% Controller mode options
if(Kr==0) % P mode option
	set(ffLoadDataWnd.Modo_P,'value',0);
	% Without P mode
	set(ffLoadDataWnd.Kr,'string','0');
else
	set(ffLoadDataWnd.Modo_P,'value',1);
	% if P mode option is true
	set(ffLoadDataWnd.Kr,'string',num2str(Kr));
endif
if(TD==0) % D mode option
	set(ffLoadDataWnd.Modo_D,'value',0);
	% Without D mode
	set(ffLoadDataWnd.TD,'string','0');
else
	set(ffLoadDataWnd.Modo_D,'value',1);
	% if D mode option is true
	set(ffLoadDataWnd.TD,'string',num2str(TD));
endif
if (TI==0) % I mode option
	set(ffLoadDataWnd.Modo_I,'value',0);
	% Without I mode
	set(ffLoadDataWnd.TI,'string','0');
else
	set(ffLoadDataWnd.Modo_I,'value',1);
	% if I mode option is true 
	set(ffLoadDataWnd.TI,'string',num2str(TI));
endif





















































  ret = ffLoadDataWnd;
end

