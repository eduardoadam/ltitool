## -*- texinfo -*-
## @deftypefn  {} {} dummy()
##
## This is a dummy function documentation. This file have a lot functions
## and each one have a little documentation. This text is to avoid a warning when
## install this file as part of package.
## @end deftypefn
##
## Set the graphics toolkit and force read this file as script file (not a function file).
##
graphics_toolkit qt;
##


##
##
## Begin callbacks definitions 
##

## @deftypefn  {} {} btn_closeparamsimulGLC_doIt (@var{source}, @var{callbackdata}, @var{cLSimParamWnd})
##
## Define a callback for default action of btn_closeparamsimulGLC control.
##
## @end deftypefn
function btn_closeparamsimulGLC_doIt(source, callbackdata, cLSimParamWnd)


  % global variable
  global _ltitoolBasePath;

  % Obtengo datos de la ventana para despues grabarlos
  %
  amplitud_sp = eval(get(cLSimParamWnd.amplitud_sp, 'string'));
  T_sp = eval(get(cLSimParamWnd.T_sp, 'string'));
  amplitud_l = eval(get(cLSimParamWnd.amplitud_l, 'string'));
  T_l = eval(get(cLSimParamWnd.T_l, 'string'));
  TFinal = eval(get(cLSimParamWnd.TFinal, 'string'));
  haChCarga = get(cLSimParamWnd.cambio_carga, 'value');
  haChCons = get(cLSimParamWnd.cambio_SP, 'value');
  
  % Grabo datos de amplitud de escalones y tiempos de simulacion cargados en ventana
  save([_ltitoolBasePath filesep() 'data' filesep() 'loadCLsim'],'T_sp','T_l','TFinal','amplitud_sp','amplitud_l','haChCons','haChCarga')

  % Close window
  close(cLSimParamWnd.figure);

end

 
## @deftypefn  {} {@var{ret} = } show_cLSimParamWnd()
##
## Create windows controls over a figure, link controls with callbacks and return 
## a window struct representation.
##
## @end deftypefn
function ret = show_cLSimParamWnd()
  _scrSize = get(0, "screensize");
  _xPos = (_scrSize(3) - 715)/2;
  _yPos = (_scrSize(4) - 347)/2;
   cLSimParamWnd = figure ( ... 
	'Color', [0.961 0.965 0.969], ...
	'Position', [_xPos _yPos 715 347], ...
	'Resize', 'on', ...
	'windowstyle', 'normal', ...
	'MenuBar', 'none');
  Label_20 = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 13, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [255 314 274 18], ... 
	'String', 'Simulation Parameters', ... 
	'TooltipString', '');
  k_sp = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [30 217 154 15], ... 
	'String', 'SP Step Amplitude', ... 
	'TooltipString', '');
  k_l = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [410 222 204 15], ... 
	'String', 'DIsturbance Step Amplitude', ... 
	'TooltipString', '');
  amplitud_sp = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [235 215 54 22], ... 
	'String', '', ... 
	'TooltipString', '');
  amplitud_l = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [634 215 49 22], ... 
	'String', '', ... 
	'TooltipString', '');
  Label_25 = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [30 179 111 15], ... 
	'String', 'Initial Time', ... 
	'TooltipString', '');
  Label_26 = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [410 187 139 15], ... 
	'String', 'Initial Time', ... 
	'TooltipString', '');
  T_sp = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [235 170 46 22], ... 
	'String', '', ... 
	'TooltipString', '');
  T_l = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [635 180 48 22], ... 
	'String', '', ... 
	'TooltipString', '');
  Label_27 = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [30 117 155 15], ... 
	'String', 'Simulation', ... 
	'TooltipString', '');
  Label_28 = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [30 72 152 15], ... 
	'String', 'Simulation Time', ... 
	'TooltipString', '');
  TFinal = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','edit', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [1.000 1.000 1.000], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [235 70 90 22], ... 
	'String', '', ... 
	'TooltipString', '');
  btn_closeparamsimulGLC = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [593 10 90 22], ... 
	'String', 'Close', ... 
	'TooltipString', '');
  cambio_SP = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','checkbox', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'Position', [25 255 243 17], ... 
	'String', 'Set-Point Step Change', ... 
	'TooltipString', '', ... 
	'Min', 0, 'Max', 1, 'Value', 1);
  cambio_carga = uicontrol( ...
	'parent',cLSimParamWnd, ... 
	'Style','checkbox', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'Position', [405 255 287 17], ... 
	'String', 'Disturbance Step Change', ... 
	'TooltipString', '', ... 
	'Min', 0, 'Max', 1, 'Value', 1);

  cLSimParamWnd = struct( ...
      'figure', cLSimParamWnd, ...
      'Label_20', Label_20, ...
      'k_sp', k_sp, ...
      'k_l', k_l, ...
      'amplitud_sp', amplitud_sp, ...
      'amplitud_l', amplitud_l, ...
      'Label_25', Label_25, ...
      'Label_26', Label_26, ...
      'T_sp', T_sp, ...
      'T_l', T_l, ...
      'Label_27', Label_27, ...
      'Label_28', Label_28, ...
      'TFinal', TFinal, ...
      'btn_closeparamsimulGLC', btn_closeparamsimulGLC, ...
      'cambio_SP', cambio_SP, ...
      'cambio_carga', cambio_carga);


  set (btn_closeparamsimulGLC, 'callback', {@btn_closeparamsimulGLC_doIt, cLSimParamWnd});
  dlg = struct(cLSimParamWnd);

  
   % global variable
   global _ltitoolBasePath;

   %
   % Load predefined data
   % --------------------------------
   load([_ltitoolBasePath filesep() 'data' filesep() 'loadCLsim'])

   % Muestro los datos en la ventana
   set(cLSimParamWnd.amplitud_sp,'string',num2str(amplitud_sp));
   set(cLSimParamWnd.T_sp,'string',num2str(T_sp));
   set(cLSimParamWnd.amplitud_l,'string',num2str(amplitud_l));
   set(cLSimParamWnd.T_l,'string',num2str(T_l));
   set(cLSimParamWnd.TFinal,'string',num2str(TFinal));
   set(cLSimParamWnd.cambio_carga, 'value', haChCarga);
   set(cLSimParamWnd.cambio_SP, 'value', haChCons);





























































  ret = cLSimParamWnd;
end

