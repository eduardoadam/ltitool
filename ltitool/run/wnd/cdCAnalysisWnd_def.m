## -*- texinfo -*-
## @deftypefn  {} {} dummy()
##
## This is a dummy function documentation. This file have a lot functions
## and each one have a little documentation. This text is to avoid a warning when
## install this file as part of package.
## @end deftypefn
##
## Set the graphics toolkit and force read this file as script file (not a function file).
##
graphics_toolkit qt;
##


##
##
## Begin callbacks definitions 
##

## @deftypefn  {} {} btn_closeCDCanalysis_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_closeCDCanalysis control.
##
## @end deftypefn
function btn_closeCDCanalysis_doIt(source, callbackdata, cdCAnalysisWnd)


% cierro ventana
close(cdCAnalysisWnd.figure);

end

## @deftypefn  {} {} btn_rlocus_internalGH_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_rlocus_internalGH control.
##
## @end deftypefn
function btn_rlocus_internalGH_doIt(source, callbackdata, cdCAnalysisWnd)

%
% Plot root locus
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])


% Plot root locus
% ----------------------------------
axes(cdCAnalysisWnd.ImageLR);
cla(cdCAnalysisWnd.ImageLR, "reset");
[Kast,Kast_ult,wultimo,GM,wcg,PM]=GHrlocusplot(GHint.num{1,1},GHint.den{1,1},Krint,1000);
hold off

end

## @deftypefn  {} {} btn_Bode_internalGH_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_Bode_internalGH control.
##
## @end deftypefn
function btn_Bode_internalGH_doIt(source, callbackdata, cdCAnalysisWnd)


%
% Plot Bode diagrams
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% Plot Bode diagrams
% ----------------------------------
axes(cdCAnalysisWnd.ImageBodeMag);
cla(cdCAnalysisWnd.ImageBodeMag, "reset");
delay=0;
flagMagPha='gragicoMag';
[Kast,Kast_ult,wultimo,GM,wcg,PM]=bodeplotMagPha(GHint.num{1,1},GHint.den{1,1},delay,Krint,flagMagPha);
hold off
axes(cdCAnalysisWnd.ImageBodePha);
cla(cdCAnalysisWnd.ImageBodePha, "reset");
flagMagPha='gragicoPha';
[Kast,Kast_ult,wultimo,GM,wcg,PM]=bodeplotMagPha(GHint.num{1,1},GHint.den{1,1},delay,Krint,flagMagPha);
hold off

end

## @deftypefn  {} {} btn_Nyquist_internalGH_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_Nyquist_internalGH control.
##
## @end deftypefn
function btn_Nyquist_internalGH_doIt(source, callbackdata, cdCAnalysisWnd)


%
% Plot Bode diagrams
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% Plot Nyquist diagram
% ----------------------------------
axes(cdCAnalysisWnd.ImageNyq);
cla(cdCAnalysisWnd.ImageNyq, "reset");
delay=0;
[Kast,Kast_ult,wultimo,GM,wcg,PM]=GHnyquistplot(GHint.num{1,1},GHint.den{1,1},delay,Krint);
hold off

end

## @deftypefn  {} {} btn_internalGHmap_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_internalGHmap control.
##
## @end deftypefn
function btn_internalGHmap_doIt(source, callbackdata, cdCAnalysisWnd)

%
% Plot zeros-poles map of internal G(s)H(s)
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% ----------------------------------
% Zeros-Poles map of G(s)H(s)
% ----------------------------------
legend_ceros_string='Zeros of internal G(s)H(s)';
legend_polos_string='Poles of internal G(s)H(s)';

% Plot zeros-poles map
% ----------------------------------
axes(cdCAnalysisWnd.ImageZPGH);
xpzmap([],legend_ceros_string,legend_polos_string,GHint.num{1,1},GHint.den{1,1});
figuraGH=1;

end

## @deftypefn  {} {} btn_internalGcl_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_internalGcl control.
##
## @end deftypefn
function btn_internalGcl_doIt(source, callbackdata, cdCAnalysisWnd)

%
% Plot zeros-poles map of internal closed loop system
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% Internal closed loop transfer function,  Gclint1(s)
Gastint1 = minreal(Cint*Gv*Gp2/(1+GHint));

% ------------------------------------------------------------------------------------
% Zeros-Poles map of internal closed loop system,  Gcl(s)
legend_ceros_string='Zeros of internal Gcl(s)';
legend_polos_string='Poles of internal Gcl(s)';

% Zeros-Poles map
% ----------------------------------
axes(cdCAnalysisWnd.ImageZPGLC);
xpzmap([],legend_ceros_string,legend_polos_string,Gastint1.num{1,1},Gastint1.den{1,1});
figuraGH=2;
% ------------------------------------------------------------------------------------

%
refresh();

end

## @deftypefn  {} {} btn_LRplus_interno_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_LRplus_interno control.
##
## @end deftypefn
function btn_LRplus_interno_doIt(source, callbackdata, cdCAnalysisWnd)

%
% Plot root locus
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% Plot root locus
% ----------------------------------
figure
delay=0;
[Kast,Kast_ult,wultimo,GM,wcg,PM]=GHrlocusplot(GHint.num{1,1},GHint.den{1,1},Krint,1000);
axisx=xlabel('Real G(s)H(s)'); axisy=ylabel('Imag. G(s)H(s)');
set(axisx,'fontsize',14);  
set(axisy,'fontsize',14);

end

## @deftypefn  {} {} btn_Bodeplus_interno_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_Bodeplus_interno control.
##
## @end deftypefn
function btn_Bodeplus_interno_doIt(source, callbackdata, cdCAnalysisWnd)

%
% Plot Bode diagrams
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% Plot Bode diagrams
% ----------------------------------
figure();
delay=0;
[Kast,Kast_ult,wultimo,GM,wcg,PM]=GHbodeplot(GHint.num{1,1},GHint.den{1,1},delay,Krint);

end

## @deftypefn  {} {} btn_Nyqplus_interno_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_Nyqplus_interno control.
##
## @end deftypefn
function btn_Nyqplus_interno_doIt(source, callbackdata, cdCAnalysisWnd)


%
% Plot Bode diagrams
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% Plot Nyquist diagram
% ----------------------------------
figure
delay=0;
[Kast,Kast_ult,wultimo,GM,wcg,PM]=GHnyquistplot(GHint.num{1,1},GHint.den{1,1},delay,Krint);

end

## @deftypefn  {} {} btn_externalGHmap_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_externalGHmap control.
##
## @end deftypefn
function btn_externalGHmap_doIt(source, callbackdata, cdCAnalysisWnd)

%
% Plot zeros-poles map of external G(s)H(s)
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% ----------------------------------
% Zeros-Poles map of G(s)H(s)
% ----------------------------------
legend_ceros_string='Zeros of external G(s)H(s)';
legend_polos_string='Poles of external G(s)H(s)';

% Plot zeros-poles map
% ----------------------------------
axes(cdCAnalysisWnd.ImageZPGH);
xpzmap([],legend_ceros_string,legend_polos_string,GHext.num{1,1},GHext.den{1,1});
figuraGH=1;

end

## @deftypefn  {} {} btn_externalGcl_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_externalGcl control.
##
## @end deftypefn
function btn_externalGcl_doIt(source, callbackdata, cdCAnalysisWnd)

%
% Plot zeros-poles map of external closed loop system
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% External closed loop transfer function,  Gclext(s)
Gastint1 = minreal(Cint*Gv*Gp2/(1+GHint));
Gclext = minreal(Cext*Gastint1*Gp1*Gt/(1+Gm1*Cext*Gastint1*Gp1));

% ------------------------------------------------------------------------------------
% Zeros-Poles map of internal closed loop system,  Gcl(s)
legend_ceros_string='Zeros of Cascade Control System';
legend_polos_string='Poles of Cascade Control System';

% Zeros-Poles map
% ----------------------------------
axes(cdCAnalysisWnd.ImageZPGLC);
xpzmap([],legend_ceros_string,legend_polos_string,Gclext.num{1,1},Gclext.den{1,1});
figuraGH=2;
% ------------------------------------------------------------------------------------

%
refresh();

end

## @deftypefn  {} {} btn_rlocus_externalGH_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_rlocus_externalGH control.
##
## @end deftypefn
function btn_rlocus_externalGH_doIt(source, callbackdata, cdCAnalysisWnd)

%
% Plot root locus
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])


% Plot root locus
% ----------------------------------
axes(cdCAnalysisWnd.ImageLR);
cla(cdCAnalysisWnd.ImageLR, "reset");
[Kast,Kast_ult,wultimo,GM,wcg,PM]=GHrlocusplot(GHext.num{1,1},GHext.den{1,1},Krext,1000);
hold off

end

## @deftypefn  {} {} btn_LRplus_externo_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_LRplus_externo control.
##
## @end deftypefn
function btn_LRplus_externo_doIt(source, callbackdata, cdCAnalysisWnd)

%
% Plot root locus
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% Plot root locus
% ----------------------------------
figure
delay=0;
[Kast,Kast_ult,wultimo,GM,wcg,PM]=GHrlocusplot(GHext.num{1,1},GHext.den{1,1},Krext,1000);
axisx=xlabel('Real G(s)H(s)'); axisy=ylabel('Imag. G(s)H(s)');
set(axisx,'fontsize',14);  
set(axisy,'fontsize',14);

end

## @deftypefn  {} {} btn_Bode_externalGH_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_Bode_externalGH control.
##
## @end deftypefn
function btn_Bode_externalGH_doIt(source, callbackdata, cdCAnalysisWnd)


%
% Plot Bode diagrams
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% Plot Bode diagrams
% ----------------------------------
axes(cdCAnalysisWnd.ImageBodeMag);
cla(cdCAnalysisWnd.ImageBodeMag, "reset");
delay=0;
flagMagPha='gragicoMag';
[Kast,Kast_ult,wultimo,GM,wcg,PM]=bodeplotMagPha(GHext.num{1,1},GHext.den{1,1},delay,Krext,flagMagPha);
hold off
axes(cdCAnalysisWnd.ImageBodePha);
cla(cdCAnalysisWnd.ImageBodePha, "reset");
flagMagPha='gragicoPha';
[Kast,Kast_ult,wultimo,GM,wcg,PM]=bodeplotMagPha(GHext.num{1,1},GHext.den{1,1},delay,Krext,flagMagPha);
hold off

end

## @deftypefn  {} {} btn_Bodeplus_externo_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_Bodeplus_externo control.
##
## @end deftypefn
function btn_Bodeplus_externo_doIt(source, callbackdata, cdCAnalysisWnd)


%
% Plot Bode diagrams
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% Plot Bode diagrams
% ----------------------------------
figure();
delay=0;
[Kast,Kast_ult,wultimo,GM,wcg,PM]=GHbodeplot(GHext.num{1,1},GHext.den{1,1},delay,Krext);

end

## @deftypefn  {} {} btn_Nyqplus_externo_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_Nyqplus_externo control.
##
## @end deftypefn
function btn_Nyqplus_externo_doIt(source, callbackdata, cdCAnalysisWnd)


%
% Plot Bode diagrams
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% Plot Nyquist diagram
% ----------------------------------
figure
delay=0;
[Kast,Kast_ult,wultimo,GM,wcg,PM]=GHnyquistplot(GHext.num{1,1},GHext.den{1,1},delay,Krext);

end

## @deftypefn  {} {} btn_Nyquist_externalGH_doIt (@var{source}, @var{callbackdata}, @var{cdCAnalysisWnd})
##
## Define a callback for default action of btn_Nyquist_externalGH control.
##
## @end deftypefn
function btn_Nyquist_externalGH_doIt(source, callbackdata, cdCAnalysisWnd)


%
% Plot Bode diagrams
%

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])

% Plot Nyquist diagram
% ----------------------------------
axes(cdCAnalysisWnd.ImageNyq);
cla(cdCAnalysisWnd.ImageNyq, "reset");
delay=0;
[Kast,Kast_ult,wultimo,GM,wcg,PM]=GHnyquistplot(GHext.num{1,1},GHext.den{1,1},delay,Krext);
hold off

end

 
## @deftypefn  {} {@var{ret} = } show_cdCAnalysisWnd()
##
## Create windows controls over a figure, link controls with callbacks and return 
## a window struct representation.
##
## @end deftypefn
function ret = show_cdCAnalysisWnd()
  _scrSize = get(0, "screensize");
  _xPos = (_scrSize(3) - 1197)/2;
  _yPos = (_scrSize(4) - 729)/2;
   cdCAnalysisWnd = figure ( ... 
	'Color', [0.961 0.965 0.969], ...
	'Position', [_xPos _yPos 1197 729], ...
	'Resize', 'on', ...
	'windowstyle', 'normal', ...
	'MenuBar', 'none');
  analisisFF = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 13, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [335 709 487 20], ... 
	'String', 'Analysis Tools for Cascade Control System', ... 
	'TooltipString', '');
  btn_closeCDCanalysis = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [1087 17 90 22], ... 
	'String', 'Close', ... 
	'TooltipString', '');
  btn_rlocus_internalGH = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [144 401 145 23], ... 
	'String', 'Internal G(s)H(s)', ... 
	'TooltipString', '');
  btn_Bode_internalGH = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [502 401 142 23], ... 
	'String', 'Internal G(s)H(s)', ... 
	'TooltipString', '');
  btn_Nyquist_internalGH = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [910 401 145 23], ... 
	'String', 'Internal G(s)H(s)', ... 
	'TooltipString', '');
  Label_2 = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [480 442 243 17], ... 
	'String', 'Analysis Based on G(s)H(s)', ... 
	'TooltipString', '');
  Label_3 = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [515 677 157 17], ... 
	'String', 'Poles-Zeros Map', ... 
	'TooltipString', '');
  btn_internalGHmap = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [14 642 148 22], ... 
	'String', 'Internal G(s)H(s)', ... 
	'TooltipString', '');
  btn_internalGcl = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [649 642 154 22], ... 
	'String', 'Internal Feedback', ... 
	'TooltipString', '');
  ImageZPGH = axes( ...
	'Units', 'pixels', ... 
	'parent',cdCAnalysisWnd, ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [205 500 301 164]);
  ImageLR = axes( ...
	'Units', 'pixels', ... 
	'parent',cdCAnalysisWnd, ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [40 58 331 286]);
  ImageBodeMag = axes( ...
	'Units', 'pixels', ... 
	'parent',cdCAnalysisWnd, ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [445 231 305 113]);
  ImageBodePha = axes( ...
	'Units', 'pixels', ... 
	'parent',cdCAnalysisWnd, ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [450 55 304 108]);
  ImageNyq = axes( ...
	'Units', 'pixels', ... 
	'parent',cdCAnalysisWnd, ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [840 56 335 288]);
  btn_LRplus_interno = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [295 402 42 22], ... 
	'String', '+', ... 
	'TooltipString', '');
  btn_Bodeplus_interno = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [650 402 43 22], ... 
	'String', '+', ... 
	'TooltipString', '');
  btn_Nyqplus_interno = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [1060 402 42 22], ... 
	'String', '+', ... 
	'TooltipString', '');
  ImageZPGLC = axes( ...
	'Units', 'pixels', ... 
	'parent',cdCAnalysisWnd, ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [853 499 302 165]);
  btn_externalGHmap = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [14 607 145 22], ... 
	'String', 'External G(s)H(s)', ... 
	'TooltipString', '');
  btn_externalGcl = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [649 607 155 22], ... 
	'String', 'External Feedback', ... 
	'TooltipString', '');
  Label_33 = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [40 404 99 17], ... 
	'String', 'Root Locus:', ... 
	'TooltipString', '');
  btn_rlocus_externalGH = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [141 372 148 22], ... 
	'String', 'External G(s)H(s)', ... 
	'TooltipString', '');
  btn_LRplus_externo = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [295 372 42 22], ... 
	'String', '+', ... 
	'TooltipString', '');
  Label_34 = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [445 404 55 17], ... 
	'String', 'Bode:', ... 
	'TooltipString', '');
  btn_Bode_externalGH = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [501 372 143 22], ... 
	'String', 'External G(s)H(s)', ... 
	'TooltipString', '');
  btn_Bodeplus_externo = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [650 372 42 22], ... 
	'String', '+', ... 
	'TooltipString', '');
  Label_36 = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [845 406 59 15], ... 
	'String', 'Nyquist:', ... 
	'TooltipString', '');
  btn_Nyqplus_externo = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [1060 372 40 22], ... 
	'String', '+', ... 
	'TooltipString', '');
  Label_37 = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [15 447 457 17], ... 
	'String', '______________________________________________________________', ... 
	'TooltipString', '');
  Label_38 = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [730 442 455 17], ... 
	'String', '_____________________________________________________________', ... 
	'TooltipString', '');
  Label_39 = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [305 682 184 17], ... 
	'String', '_________________________', ... 
	'TooltipString', '');
  Label_40 = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [690 682 211 17], ... 
	'String', '_________________________', ... 
	'TooltipString', '');
  btn_Nyquist_externalGH = uicontrol( ...
	'parent',cdCAnalysisWnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.961 0.965 0.969], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Arial', ... 
	'FontSize', 10, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'ForegroundColor', [0.000 0.000 0.000], ... 
	'Position', [910 372 143 22], ... 
	'String', 'External G(s)H(s)', ... 
	'TooltipString', '');

  cdCAnalysisWnd = struct( ...
      'figure', cdCAnalysisWnd, ...
      'analisisFF', analisisFF, ...
      'btn_closeCDCanalysis', btn_closeCDCanalysis, ...
      'btn_rlocus_internalGH', btn_rlocus_internalGH, ...
      'btn_Bode_internalGH', btn_Bode_internalGH, ...
      'btn_Nyquist_internalGH', btn_Nyquist_internalGH, ...
      'Label_2', Label_2, ...
      'Label_3', Label_3, ...
      'btn_internalGHmap', btn_internalGHmap, ...
      'btn_internalGcl', btn_internalGcl, ...
      'ImageZPGH', ImageZPGH, ...
      'ImageLR', ImageLR, ...
      'ImageBodeMag', ImageBodeMag, ...
      'ImageBodePha', ImageBodePha, ...
      'ImageNyq', ImageNyq, ...
      'btn_LRplus_interno', btn_LRplus_interno, ...
      'btn_Bodeplus_interno', btn_Bodeplus_interno, ...
      'btn_Nyqplus_interno', btn_Nyqplus_interno, ...
      'ImageZPGLC', ImageZPGLC, ...
      'btn_externalGHmap', btn_externalGHmap, ...
      'btn_externalGcl', btn_externalGcl, ...
      'Label_33', Label_33, ...
      'btn_rlocus_externalGH', btn_rlocus_externalGH, ...
      'btn_LRplus_externo', btn_LRplus_externo, ...
      'Label_34', Label_34, ...
      'btn_Bode_externalGH', btn_Bode_externalGH, ...
      'btn_Bodeplus_externo', btn_Bodeplus_externo, ...
      'Label_36', Label_36, ...
      'btn_Nyqplus_externo', btn_Nyqplus_externo, ...
      'Label_37', Label_37, ...
      'Label_38', Label_38, ...
      'Label_39', Label_39, ...
      'Label_40', Label_40, ...
      'btn_Nyquist_externalGH', btn_Nyquist_externalGH);


  set (btn_closeCDCanalysis, 'callback', {@btn_closeCDCanalysis_doIt, cdCAnalysisWnd});
  set (btn_rlocus_internalGH, 'callback', {@btn_rlocus_internalGH_doIt, cdCAnalysisWnd});
  set (btn_Bode_internalGH, 'callback', {@btn_Bode_internalGH_doIt, cdCAnalysisWnd});
  set (btn_Nyquist_internalGH, 'callback', {@btn_Nyquist_internalGH_doIt, cdCAnalysisWnd});
  set (btn_internalGHmap, 'callback', {@btn_internalGHmap_doIt, cdCAnalysisWnd});
  set (btn_internalGcl, 'callback', {@btn_internalGcl_doIt, cdCAnalysisWnd});
  set (btn_LRplus_interno, 'callback', {@btn_LRplus_interno_doIt, cdCAnalysisWnd});
  set (btn_Bodeplus_interno, 'callback', {@btn_Bodeplus_interno_doIt, cdCAnalysisWnd});
  set (btn_Nyqplus_interno, 'callback', {@btn_Nyqplus_interno_doIt, cdCAnalysisWnd});
  set (btn_externalGHmap, 'callback', {@btn_externalGHmap_doIt, cdCAnalysisWnd});
  set (btn_externalGcl, 'callback', {@btn_externalGcl_doIt, cdCAnalysisWnd});
  set (btn_rlocus_externalGH, 'callback', {@btn_rlocus_externalGH_doIt, cdCAnalysisWnd});
  set (btn_LRplus_externo, 'callback', {@btn_LRplus_externo_doIt, cdCAnalysisWnd});
  set (btn_Bode_externalGH, 'callback', {@btn_Bode_externalGH_doIt, cdCAnalysisWnd});
  set (btn_Bodeplus_externo, 'callback', {@btn_Bodeplus_externo_doIt, cdCAnalysisWnd});
  set (btn_Nyqplus_externo, 'callback', {@btn_Nyqplus_externo_doIt, cdCAnalysisWnd});
  set (btn_Nyquist_externalGH, 'callback', {@btn_Nyquist_externalGH_doIt, cdCAnalysisWnd});
  dlg = struct(cdCAnalysisWnd);


% load packages
%pkg load control;
%pkg load linear-algebra;
%pkg load odepkg;
%pkg load optim;
%pkg load signal;
%pkg load struct;

% global variable
global _ltitoolBasePath;

%
% Load predefined data
% --------------------------------
load([_ltitoolBasePath filesep() 'data' filesep() 'loadCDCdata'])



  ret = cdCAnalysisWnd;
end

