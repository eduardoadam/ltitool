%
% Set the graphics toolkit and force read this file as script file (not a function file).
%
graphics_toolkit qt;
%


%
%
% Begin callbacks definitions 
%

function btnAboutthis_doIt(source, callbackdata, mainwnd)

% This code will be executed when user click the button control.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor

%
% Run main window of additional tools
%

ABOUTTHISwindow();


end

function btnHelp_doIt(source, callbackdata, mainwnd)


%
% Run presentation to help  as html file.
%

% global variable
global _basePath;

% Load html file
url = ["file:" _basePath filesep() "ltitool_manual" filesep() "ltitool_manual.html"];

  if(isunix())
    system(["xdg-open " url]);
  elseif (ispc())
    system(["start " url]);
  else
    disp(["I don't know how to open " url " in your os. Sorry!"]);
  endif;

end

function btnClose_doIt(source, callbackdata, mainwnd)


% Close ltitool windown
close(mainwnd.figure);

end

function btn_runOLwindow_doIt(source, callbackdata, mainwnd)

% This code will be executed when user click the button control.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor

%
% Run Open Loop window
%

OLwindow();

end

function btn_runGHwindow_doIt(source, callbackdata, mainwnd)

% This code will be executed when user click the button control.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor

%
% Run GH analysis window
%

GHwindow();

end

function btn_runCLwindow_doIt(source, callbackdata, mainwnd)

% This code will be executed when user click the button control.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor

%
% Run Close Loop window
%

CLwindow();
end

function btn_runACSwindow_doIt(source, callbackdata, mainwnd)

% This code will be executed when user click the button control.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor

%
% Run main window of traditional advanced control strategies
%

ACSwindow();

end

function btn_runADDITOOLwindow_doIt(source, callbackdata, mainwnd)

% This code will be executed when user click the button control.
% As default, all events are deactivated, to activate must set the
% propertie 'have callback' from the properties editor

%
% Run main window of additional tools
%

ADDITOOLwindow();

end

 
%
% Dialog creation windows function 
%
function ret = show_mainwnd()
  _scrSize = get(0, "screensize");
  _xPos = (_scrSize(3) - 816)/2;
  _yPos = (_scrSize(4) - 617)/2;
   mainwnd = figure ( ... 
	'Color', [0.937 0.922 0.906], ...
	'Position', [_xPos _yPos 816 617], ...
	'Resize', 'on', ...
	'windowstyle', 'normal', ...
	'MenuBar', 'none');
  Image_ppl = axes( ...
	'Units', 'pixels', ... 
	'parent',mainwnd, ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [81 98 719 463]);
  btnAboutthis = uicontrol( ...
	'parent',mainwnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.937 0.922 0.906], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [33 20 90 22], ... 
	'String', 'About This', ... 
	'TooltipString', '');
  btnHelp = uicontrol( ...
	'parent',mainwnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.937 0.922 0.906], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [343 25 90 22], ... 
	'String', 'Help', ... 
	'TooltipString', '');
  btnClose = uicontrol( ...
	'parent',mainwnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.937 0.922 0.906], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [693 20 90 22], ... 
	'String', 'Close', ... 
	'TooltipString', '');
  btn_runOLwindow = uicontrol( ...
	'parent',mainwnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.937 0.922 0.906], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [10 484 199 38], ... 
	'String', 'Open Loop System Analysis', ... 
	'TooltipString', '');
  btn_runGHwindow = uicontrol( ...
	'parent',mainwnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.937 0.922 0.906], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [10 401 200 39], ... 
	'String', 'Analysis Based On G(s)H(s)', ... 
	'TooltipString', '');
  btn_runCLwindow = uicontrol( ...
	'parent',mainwnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.937 0.922 0.906], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [10 313 199 35], ... 
	'String', 'Close Loop System Analysis', ... 
	'TooltipString', '');
  btn_runACSwindow = uicontrol( ...
	'parent',mainwnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.937 0.922 0.906], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [10 220 199 34], ... 
	'String', 'Advanced Control Strategies', ... 
	'TooltipString', '');
  Label_188 = uicontrol( ...
	'parent',mainwnd, ... 
	'Style','text', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.937 0.922 0.906], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 18, 'FontUnits', 'points', ... 
	'FontWeight', 'bold', ... 
	'HorizontalAlignment', 'left', ... 
	'Position', [200 574 431 28], ... 
	'String', 'Linear Control Toolbox for LTI System', ... 
	'TooltipString', '');
  btn_runADDITOOLwindow = uicontrol( ...
	'parent',mainwnd, ... 
	'Style','pushbutton', ... 
	'Units', 'pixels', ... 
	'BackgroundColor', [0.937 0.922 0.906], ... 
	'FontAngle', 'normal', ... 
	'FontName', 'Ubuntu', ... 
	'FontSize', 11, 'FontUnits', 'points', ... 
	'FontWeight', 'normal', ... 
	'Position', [15 115 197 35], ... 
	'String', 'Additional Control Tools', ... 
	'TooltipString', '');

  mainwnd = struct( ...
      'figure', mainwnd, ...
      'Image_ppl', Image_ppl, ...
      'btnAboutthis', btnAboutthis, ...
      'btnHelp', btnHelp, ...
      'btnClose', btnClose, ...
      'btn_runOLwindow', btn_runOLwindow, ...
      'btn_runGHwindow', btn_runGHwindow, ...
      'btn_runCLwindow', btn_runCLwindow, ...
      'btn_runACSwindow', btn_runACSwindow, ...
      'Label_188', Label_188, ...
      'btn_runADDITOOLwindow', btn_runADDITOOLwindow);


  set (btnAboutthis, 'callback', {@btnAboutthis_doIt, mainwnd});
  set (btnHelp, 'callback', {@btnHelp_doIt, mainwnd});
  set (btnClose, 'callback', {@btnClose_doIt, mainwnd});
  set (btn_runOLwindow, 'callback', {@btn_runOLwindow_doIt, mainwnd});
  set (btn_runGHwindow, 'callback', {@btn_runGHwindow_doIt, mainwnd});
  set (btn_runCLwindow, 'callback', {@btn_runCLwindow_doIt, mainwnd});
  set (btn_runACSwindow, 'callback', {@btn_runACSwindow_doIt, mainwnd});
  set (btn_runADDITOOLwindow, 'callback', {@btn_runADDITOOLwindow_doIt, mainwnd});
  dlg = struct(mainwnd);


%
% LTITOOL main window
%

% Load packages
pkg load control;
pkg load linear-algebra;
pkg load odepkg;
pkg load optim;
pkg load signal;
pkg load struct;

% global variable
global _basePath; global _imgPath;

% Main window image
axes(mainwnd.Image_ppl);
imshow([_imgPath filesep() 'image_ppl.png']);
refresh();







































































  ret = mainwnd;
end

